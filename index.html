<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CampusHub - Complete College Community Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <style>
        body { font-family: 'Inter', sans-serif; }
        .fade-in { animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .card-hover { transition: transform 0.2s; }
        .card-hover:hover { transform: translateY(-5px); }
    </style>
</head>
<body class="bg-gray-50 text-gray-900">
    <!-- Navigation -->
    <nav class="bg-white shadow-lg fixed w-full top-0 z-50">
        <div class="max-w-7xl mx-auto px-4">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center space-x-4">
                    <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/68994a15-62e5-422d-9aee-31aaafb22ee1.png" alt="CampusHub logo featuring a vibrant emblem with interconnected gears and books symbolizing academic collaboration and innovation" class="w-10 h-10 rounded-full border-2 border-blue-500">
                    <h1 class="text-2xl font-bold text-blue-600">CampusHub</h1>
                </div>
                <div class="hidden md:flex space-x-4 visitor-nav">
                    <button onclick="showSection('home-section')" class="text-gray-700 hover:text-blue-600 transition">Home</button>
                    <button onclick="showSection('gallery-section')" class="text-gray-700 hover:text-blue-600 transition">Gallery</button>
                    <button onclick="showSection('news-section')" class="text-gray-700 hover:text-blue-600 transition">News</button>
                    <button onclick="showSection('auth-section')" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-800 transition">Login</button>
                </div>
                <div class="hidden user-nav space-x-4">
                    <button onclick="showSection('dashboard-section')" class="text-gray-700 hover:text-blue-600 transition">Dashboard</button>
                    <button onclick="showSection('upload-section')" class="text-gray-700 hover:text-blue-600 transition">Upload</button>
                    <button onclick="showSection('gallery-section')" class="text-gray-700 hover:text-blue-600 transition">Gallery</button>
                    <button onclick="showSection('admin-section')" class="hidden admin-only text-gray-700 hover:text-blue-600 transition">Admin</button>
                    <button onclick="logout()" class="bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition">Logout</button>
                    <span class="text-gray-700" id="user-welcome"></span>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home-section" class="pt-20 pb-16 fade-in">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/15ac07ca-3d85-4412-8298-bbfca70309ae.png" alt="Dynamic hero image showcasing a modern college campus with diverse students collaborating outdoors, surrounded by innovative architecture and green spaces, conveying community spirit and creativity" class="mx-auto mb-8 rounded-lg shadow-2xl w-full max-w-4xl">
            <h2 class="text-4xl md:text-6xl font-bold text-gray-800 mb-4">Welcome to CampusHub</h2>
            <p class="text-xl md:text-2xl text-gray-600 mb-8">Your Ultimate Platform for College Communities, Competitions, and Creations</p>
            <button onclick="getStarted()" class="bg-gradient-to-r from-blue-500 to-purple-600 text-white px-8 py-4 rounded-lg font-semibold text-lg hover:from-blue-600 hover:to-purple-700 transition duration-300 shadow-lg">Get Started</button>
        </div>
    </section>

    <!-- Auth Section -->
    <section id="auth-section" class="max-w-md mx-auto mt-10 bg-white p-8 rounded-xl shadow-xl hidden fade-in">
        <div id="login-form" class="space-y-4">
            <h3 class="text-3xl font-semibold mb-6 text-center text-gray-800">Login to CampusHub</h3>
            <input type="text" id="login-username" placeholder="Username" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required>
            <input type="password" id="login-password" placeholder="Password" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required>
            <button onclick="handleLogin()" class="w-full bg-blue-600 text-white p-3 rounded-lg hover:bg-blue-800 transition">Login</button>
            <p class="text-center mt-4 text-sm">New user? <a onclick="switchAuth()" class="text-blue-600 hover:underline cursor-pointer">Register</a></p>
        </div>
        <div id="register-form" class="hidden space-y-4">
            <h3 class="text-3xl font-semibold mb-6 text-center text-gray-800">Register</h3>
            <input type="text" id="reg-username" placeholder="Username" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required>
            <input type="password" id="reg-password" placeholder="Password" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required>
            <select id="reg-role" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                <option value="student">Student</option>
                <option value="admin">Admin</option>
                <option value="owner">Owner</option>
            </select>
            <button onclick="handleRegister()" class="w-full bg-green-600 text-white p-3 rounded-lg hover:bg-green-900 transition">Register</button>
            <p class="text-center mt-4 text-sm">Have an account? <a onclick="switchAuth()" class="text-blue-600 hover:underline cursor-pointer">Login</a></p>
        </div>
    </section>

    <!-- Dashboard -->
    <section id="dashboard-section" class="max-w-7xl mx-auto mt-20 p-6 hidden fade-in">
        <h3 class="text-3xl font-semibold mb-8 text-center">My Dashboard</h3>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <div class="bg-white p-6 rounded-lg shadow-lg card-hover text-center">
                <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/a7d7dc38-8fbb-4b6b-8455-7f4116e1a3a8.png" alt="User profile avatar displaying a friendly silhouette of a college student with a laptop, representing personal identity and activity" class="mx-auto mb-4 rounded-full border-4 border-blue-200">
                <h4 class="text-xl font-semibold">Welcome back, <span id="dashboard-user"></span></h4>
                <p class="text-gray-600">Role: <span id="dashboard-role"></span></p>
            </div>
            <div class="bg-blue-50 p-6 rounded-lg shadow-lg">
                <h4 class="text-lg font-semibold mb-4 flex items-center"><ion-icon name="time-outline" class="mr-2"></ion-icon> Recent Activity</h4>
                <ul class="space-y-2 text-sm">
                    <li>‚Ä¢ Uploaded a creative poster ‚Üí Pending approval</li>
                    <li>‚Ä¢ Voted in photography contest</li>
                    <li>‚Ä¢ Viewed 5 gallery items</li>
                </ul>
            </div>
            <div class="bg-green-50 p-6 rounded-lg shadow-lg">
                <h4 class="text-lg font-semibold mb-4 flex items-center"><ion-icon name="calendar-outline" class="mr-2"></ion-icon> Upcoming Events</h4>
                <ul class="space-y-2 text-sm">
                    <li>‚Ä¢ Photography Competition - Submit by Feb 15</li>
                    <li>‚Ä¢ Tech Workshop - Jan 20, 2PM</li>
                    <li>‚Ä¢ Art Exhibition - Jan 25</li>
                </ul>
            </div>
        </div>
        <div class="mt-8 text-center">
            <button onclick="showSection('gallery-section')" class="bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-800 transition">Explore Gallery</button>
        </div>
    </section>

    <!-- Gallery -->
    <section id="gallery-section" class="max-w-7xl mx-auto mt-20 p-6 fade-in">
        <h3 class="text-3xl font-semibold mb-8 text-center">Approved Gallery</h3>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6" id="gallery-grid">
            <!-- Dynamically populated -->
        </div>
        <div id="winner-section" class="mt-8 max-w-lg mx-auto bg-gradient-to-r from-yellow-400 to-orange-500 p-6 rounded-lg shadow-lg text-white hidden">
            <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/904019f8-0ceb-4006-9c4d-e540171a5479.png" alt="Celebratory image highlighting the winning entry with golden frames and confetti, showcasing a breathtaking student-created artwork from a competition" class="w-full rounded-lg mb-4 border-4 border-white">
            <h4 class="text-2xl font-semibold text-center">üèÜ Winner of the Month!</h4>
            <p class="text-center mt-2">Congratulations to Student A on their stunning artwork!</p>
        </div>
        <div id="competition-callout" class="mt-8 max-w-lg mx-auto bg-gradient-to-r from-purple-500 to-pink-500 p-6 rounded-lg shadow-lg text-white">
            <h4 class="text-xl font-semibold mb-2">üé® Ongoing Competition: Creativity Unleashed</h4>
            <p class="text-sm mb-4">Showcase your talents! Submit by Feb 15 for a chance to win prizes.</p>
            <button onclick="showSection('upload-section')" class="bg-white text-purple-600 px-4 py-2 rounded-lg hover:bg-gray-200 transition">Upload Now</button>
            <button onclick="voteCompetition()" class="ml-4 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-800 transition">Vote Now</button>
        </div>
    </section>

    <!-- Upload -->
    <section id="upload-section" class="max-w-lg mx-auto mt-20 bg-white p-8 rounded-xl shadow-xl hidden fade-in">
        <h3 class="text-3xl font-semibold mb-6 text-center">Upload Your Creation</h3>
        <form id="upload-form" class="space-y-4">
            <input type="file" id="upload-file" accept="image/*,video/*" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required>
            <textarea id="upload-desc" placeholder="Describe your creation (optional)" rows="3" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
            <select id="upload-category" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                <option value="art">Art</option>
                <option value="photo">Photography</option>
                <option value="video">Video</option>
            </select>
            <button type="submit" class="w-full bg-purple-600 text-white p-3 rounded-lg hover:bg-purple-900 transition">Upload</button>
        </form>
        <div id="upload-status" class="mt-4 text-center text-sm hidden">
            <p id="upload-msg" class="text-green-600">Upload successful! Pending admin approval.</p>
        </div>
    </section>

    <!-- News & Events -->
    <section id="news-section" class="max-w-6xl mx-auto mt-20 p-6 fade-in">
        <h3 class="text-3xl font-semibold mb-8 text-center">Latest News & Announcements</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <div class="bg-white p-6 rounded-lg shadow-lg card-hover">
                <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/3c5861da-43ab-46ee-a622-03e0d00c5604.png" alt="Event banner for photography contest featuring cameras, colored filters, and dynamic perspectives, inviting participation in the creative challenge" class="w-full h-32 object-cover rounded-lg mb-4">
                <h4 class="font-semibold mb-2">New Competition Launched!</h4>
                <p class="text-sm text-gray-600 mb-4">Photography contest open to all students. Grand prize: $500 gift card.</p>
                <button class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-800">Learn More</button>
            </div>
            <div class="bg-white p-6 rounded-lg shadow-lg card-hover">
                <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/4263da3a-1c55-42d9-85c1-862d50ac16dd.png" alt="Shot of a conference room with speakers on stage, presentations, and engaged attendees listening to tech talks, illustrating innovation and learning" class="w-full h-32 object-cover rounded-lg mb-4">
                <h4 class="font-semibold mb-2">Tech Talk Series Coming Up</h4>
                <p class="text-sm text-gray-600 mb-4">Learn about AI and advanced tools. Free registration available.</p>
                <button class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-800">Register</button>
            </div>
            <div class="bg-white p-6 rounded-lg shadow-lg card-hover">
                <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/f59db163-7308-4765-97fe-87ed335dc476.png" alt="View of an art exhibition space with framed pieces on walls, viewers admiring diverse artworks, creating an atmosphere of cultural celebration" class="w-full h-32 object-cover rounded-lg mb-4">
                <h4 class="font-semibold mb-2">Student Art Exhibition</h4>
                <p class="text-sm text-gray-600 mb-4">Showcase of winning entries from this semester's competitions.</p>
                <button class="bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-800">View Gallery</button>
            </div>
        </div>
    </section>

    <!-- Admin Panel -->
    <section id="admin-section" class="max-w-7xl mx-auto mt-20 bg-white p-8 rounded-xl shadow-xl hidden fade-in">
        <h3 class="text-3xl font-semibold mb-6">Admin Panel - Manage CampusHub</h3>
        <div class="mb-6">
            <h4 class="text-xl font-semibold mb-4">Pending Uploads for Approval</h4>
            <div id="pending-uploads" class="space-y-4">
                <!-- Dynamically populated -->
            </div>
            <button onclick="approveAll()" class="mt-4 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-800 transition">Approve All</button>
        </div>
        <div class="mb-6">
            <h4 class="text-xl font-semibold mb-4">User Management</h4>
            <div id="user-management" class="space-y-4">
                <!-- Dynamically populated -->
            </div>
        </div>
        <div>
            <h4 class="text-xl font-semibold mb-4">Competition Management</h4>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <input type="text" id="new-comp-name" placeholder="Competition Name" class="p-2 border rounded">
                <button onclick="createCompetition()" class="bg-green-600 text-white px-4 py-2 rounded">Create New Competition</button>
            </div>
            <div id="competitions-list" class="mt-4 space-y-2">
                <!-- Dynamically populated -->
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white mt-20">
        <div class="max-w-7xl mx-auto px-4 py-12">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/4a95c232-d9ea-458c-89b0-0f63a267fb9d.png" alt="CampusHub brand logo with subtle geometric patterns representing community and knowledge" class="mb-4 rounded">
                    <p class="text-sm">Building stronger college communities since 2023</p>
                </div>
                <div>
                    <h4 class="font-semibold mb-4">Platform</h4>
                    <ul class="space-y-2 text-sm">
                        <li><button onclick="showSection('gallery-section')" class="hover:underline">Gallery</button></li>
                        <li><button onclick="showSection('news-section')" class="hover:underline">News</button></li>
                        <li><button onclick="showSection('upload-section')" class="hover:underline">Upload</button></li>
                        <li><button onclick="showSection('dashboard-section')" class="hover:underline">Dashboard</button></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold mb-4">Support</h4>
                    <ul class="space-y-2 text-sm">
                        <li><a href="#" class="hover:underline">Help Center</a></li>
                        <li><a href="#" class="hover:underline">Contact Us</a></li>
                        <li><a href="#" class="hover:underline">Terms of Service</a></li>
                        <li><a href="#" class="hover:underline">Privacy Policy</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold mb-4">Connect</h4>
                    <p class="text-sm mb-2">Email: campus@hub.edu</p>
                    <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/378c11b3-d31a-451f-84a4-8419c1c5b196.png" alt="Image of collaborative workspace with students on computers, phones, and notes, symbolizing connectivity in the campus community" class="rounded">
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-8 text-center">
                <p>¬© 2023 CampusHub. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Embedded JavaScript for complete functionality -->
    <script>
        // Simulated Database using localStorage
        let currentUser = JSON.parse(localStorage.getItem('currentUser')) || null;
        let users = JSON.parse(localStorage.getItem('users')) || [
            { username: 'admin', password: 'admin123', role: 'admin' },
            { username: 'studentX', password: 'pass123', role: 'student' },
            { username: 'owner', password: 'owner123', role: 'owner' }
        ];
        let uploads = JSON.parse(localStorage.getItem('uploads')) || [];
        let pendingUploads = JSON.parse(localStorage.getItem('pendingUploads')) || [];
        let competitions = JSON.parse(localStorage.getItem('competitions')) || [
            { id: 1, name: 'Photography Contest', active: true },
            { id: 2, name: 'Art Competition', active: true }
        ];

        // Sample initial data
        if (uploads.length === 0) {
            uploads = [
                { id: 1, filename: 'sample_art.jpg', student: 'studentX', desc: 'Abstract digital art', category: 'art' },
                { id: 2, filename: 'sunset_photo.png', student: 'studentX', desc: 'Golden hour capture', category: 'photo' }
            ];
            localStorage.setItem('uploads', JSON.stringify(uploads));
        }

        // Initialize
        initializeApp();

        function initializeApp() {
            updateUI();
            loadGallery();
            loadPendingUploads();
            loadUserManagement();
            loadCompetitions();
        }

        function showSection(sectionId) {
            if (sectionId === 'upload-section' && !currentUser) {
                note('Please login to upload.');
                showSection('auth-section');
                return;
            }
            if (sectionId === 'admin-section' && (!currentUser || !['admin', 'owner'].includes(currentUser.role))) {
                note('Admin access only.');
                return;
            }
            document.querySelectorAll('section').forEach(sec => sec.classList.add('hidden'));
            document.getElementById(sectionId).classList.remove('hidden');
        }

        function updateUI() {
            if (currentUser) {
                document.querySelector('.visitor-nav').classList.add('hidden');
                document.querySelector('.user-nav').classList.remove('hidden');
                document.getElementById('user-welcome').textContent = `Hi, ${currentUser.username}`;
                document.getElementById('dashboard-user').textContent = currentUser.username;
                document.getElementById('dashboard-role').textContent = currentUser.role;
                if (currentUser.role === 'student') {
                    document.querySelector('.admin-only').classList.add('hidden');
                }
                showSection('dashboard-section');
            } else {
                document.querySelector('.visitor-nav').classList.remove('hidden');
                document.querySelector('.user-nav').classList.add('hidden');
                showSection('home-section');
            }
        }

        function getStarted() {
            if (!currentUser) {
                showSection('auth-section');
            } else {
                showSection('dashboard-section');
            }
        }

        function switchAuth() {
            document.getElementById('login-form').classList.toggle('hidden');
            document.getElementById('register-form').classList.toggle('hidden');
        }

        function handleLogin() {
            const username = document.getElementById('login-username').value;
            const password = document.getElementById('login-password').value;
            const user = users.find(u => u.username === username && u.password === password);
            if (user) {
                currentUser = user;
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                updateUI();
                note('Login successful!');
            } else {
                note('Invalid credentials');
            }
        }

        function handleRegister() {
            const username = document.getElementById('reg-username').value;
            const password = document.getElementById('reg-password').value;
            const role = document.getElementById('reg-role').value;
            if (users.find(u => u.username === username)) {
                note('Username already exists');
                return;
            }
            const newUser = { username, password, role };
            users.push(newUser);
            currentUser = newUser;
            localStorage.setItem('users', JSON.stringify(users));
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            updateUI();
            note('Registration successful!');
        }

        function logout() {
            currentUser = null;
            localStorage.removeItem('currentUser');
            updateUI();
            note('Logged out');
        }

        document.getElementById('upload-form').addEventListener('submit', (e) => {
            e.preventDefault();
            if (!currentUser) {
                note('Please login to upload');
                return;
            }
            const file = document.getElementById('upload-file').files[0];
            const desc = document.getElementById('upload-desc').value;
            const category = document.getElementById('upload-category').value;
            if (!file) return;
            const newUpload = { id: Date.now(), filename: file.name, student: currentUser.username, desc, category, approved: false };
            pendingUploads.push(newUpload);
            localStorage.setItem('pendingUploads', JSON.stringify(pendingUploads));
            document.getElementById('upload-status').classList.remove('hidden');
            document.getElementById('upload-msg').textContent = 'Upload successful! Pending admin approval.';
            loadPendingUploads();
        });

        function loadGallery() {
            const grid = document.getElementById('gallery-grid');
            grid.innerHTML = uploads.map(upload => `
                <div class="bg-white p-4 rounded-lg shadow-lg card-hover">
                    <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/ce5b8626-09df-4952-ab47-97d64a4014a7.png" 
                         alt="Gallery submission: ${upload.filename} by ${upload.student} - ${upload.desc}" 
                         class="w-full h-48 object-cover rounded-lg">
                    <h5 class="font-semibold mt-2">${upload.filename}</h5>
                    <p class="text-sm text-gray-600">By: ${upload.student} | ${upload.category}</p>
                    <p class="text-xs text-gray-500 mb-2">${upload.desc}</p>
                    <button onclick="vote(${upload.id})" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">Vote</button>
                </div>
            `).join('');
            document.getElementById('winner-section').classList.remove('hidden');
        }

        function loadPendingUploads() {
            const container = document.getElementById('pending-uploads');
            container.innerHTML = pendingUploads.map(({ filename, student, desc }, index) => `
                <div class="border p-4 rounded-lg bg-gray-50">
                    <p><strong>${filename}</strong> by ${student}</p>
                    <p class="text-sm text-gray-600">${desc}</p>
                    <button onclick="approveUpload(${index})" class="mt-2 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-800">Approve</button>
                </div>
            `).join('');
        }

        function loadUserManagement() {
            const container = document.getElementById('user-management');
            container.innerHTML = users.map(user => `
                <div class="border p-4 rounded-lg">
                    <p>${user.username} (${user.role})</p>
                    <button onclick="terminateUser('${user.username}')" class="mt-2 bg-red-600 text-white px-4 py-2 rounded hover:bg-red-800">Terminate</button>
                </div>
            `).join('');
        }

        function loadCompetitions() {
            const container = document.getElementById('competitions-list');
            container.innerHTML = competitions.map(comp => `
                <div class="border p-4 rounded-lg">
                    <p>${comp.name} - ${comp.active ? 'Active' : 'Inactive'}</p>
                    <button onclick="toggleCompetition(${comp.id})" class="mt-2 bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-800">${comp.active ? 'Deactivate' : 'Activate'}</button>
                </div>
            `).join('');
        }

        function approveUpload(index) {
            const upload = pendingUploads.splice(index, 1)[0];
            upload.approved = true;
            uploads.push(upload);
            localStorage.setItem('pendingUploads', JSON.stringify(pendingUploads));
            localStorage.setItem('uploads', JSON.stringify(uploads));
            loadGallery();
            loadPendingUploads();
            note('Upload approved');
        }

        function approveAll() {
            uploads.push(...pendingUploads.map(u => ({ ...u, approved: true })));
            pendingUploads = [];
            localStorage.setItem('pendingUploads', JSON.stringify(pendingUploads));
            localStorage.setItem('uploads', JSON.stringify(uploads));
            loadGallery();
            loadPendingUploads();
            note('All uploads approved');
        }

        function vote(id) {
            if (!currentUser) {
                note('Please login to vote');
                return;
            }
            note('Vote cast for item #' + id);
        }

        function voteCompetition() {
            if (!currentUser) {
                note('Please login to vote');
                return;
            }
            note('Competitions are simulated - vote registered!');
        }

        function terminateUser(username) {
            if (currentUser.role !== 'owner') {
                note('Only owner can terminate users');
                return;
            }
            users = users.filter(u => u.username !== username);
            localStorage.setItem('users', JSON.stringify(users));
            loadUserManagement();
            if (currentUser.username === username) logout();
            note('User terminated');
        }

        function createCompetition() {
            const name = document.getElementById('new-comp-name').value;
            if (!name) return;
            const newComp = { id: Date.now(), name, active: true };
            competitions.push(newComp);
            localStorage.setItem('competitions', JSON.stringify(competitions));
            loadCompetitions();
            document.getElementById('new-comp-name').value = '';
            note('Competition created');
        }

        function toggleCompetition(id) {
            const comp = competitions.find(c => c.id === id);
            if (comp) {
                comp.active = !comp.active;
                localStorage.setItem('competitions', JSON.stringify(competitions));
                loadCompetitions();
                note('Competition ' + (comp.active ? 'activated' : 'deactivated'));
            }
        }

        function note(msg) {
            alert(msg);  // In a real app, use a toast notification
        }
    </script>
</body>
</html>
</content>
</create_file>
